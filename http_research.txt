anisharohra	[12:55 AM]  
joined #http-requests

anisharohra	[12:55 AM]  
set the channel purpose: any and all questions related to making http-requests on spark

johntiger1	[12:55 AM]  
joined #http-requests by invitation from @anisharohra, along with @nikita, @saragolesta, @radhika28, @sebasalvarado, @shannon

johntiger1	[1:10 AM]  
reposting sebs link since i think it will be useful

[1:10]  
https://github.com/eh3rrera/minitwit
 GitHub
eh3rrera/minitwit
minitwit - Based on Flask's MiniTwit example and written in Java with the Spark web framework, Spring, and HSQLDB 
 
 

johntiger1	[1:22 AM]  
http://advent.perldancer.org/2010/2

[1:23]  
also check this: 
Routes
The main building block of a Spark application is a set of routes. A route is made up of three simple pieces:

A verb (get, post, put, delete, head, trace, connect, options)
A path (/hello, /users/:name)
A callback (request, response) -> { }
Routes are matched in the order they are defined. The first route that matches the request is invoked.

[1:25]  
@sebasalvarado @anisharohra @shannon  hey so my job is to just define what happens for example when the user goes to the link sk.in/signup ? (edited)

anisharohra	[1:26 AM]  
Yes, but it's too all the URLs that the react-native of viewing a Journal would go to

[1:27]  
And it's the / afterwards that you're concerned with, not the stuff that comes before it

sebasalvarado	[1:30 AM]  
Yes check WEBcoNFIG.JAVA

[1:30]  
DAMN

[1:30]  
WebConfig.java

[1:30]  
there are a set of examples there taht you can use

johntiger1	[3:50 PM]  
ok thanks


----- November 8th -----
johntiger1	[2:50 AM]  
https://www.learnhowtoprogram.com/lessons/hello-world-with-spark

johntiger1	[12:44 PM]  
added and commented on a Java snippet: Example.java 
// A simple JDBC example.
​
// Remember that you need to put the jdbc postgresql driver in your class path
// when you run this code.
// See /local/packages/jdbc-postgresql on cdf for the driver, another example
1 Comment Click to expand inline 113 lines
Sample JDBC stuff

shannon	[1:07 PM]  
http://stackoverflow.com/questions/29127490/how-to-get-request-params-using-sparkjava
 stackoverflow.com
How to get request params using sparkjava
I'm new to sparkjava. I want to read my request params using spark java but I'm not able to find the correct syntax. please help me out. Below is my route method and the client call to it: my cli... 
 
 

anisharohra	[2:50 PM]  
added a JavaScript/JSON snippet: server-test.js 
var http = require('http');
var fs = require('fs');
var pg = require('pg');
var express = require('express');
var app = express();
Add Comment Click to expand inline 44 lines

saragolesta	[3:28 PM]  
a good link for httprequests:

[3:28]  
https://scotch.io/tutorials/use-expressjs-to-get-url-and-post-parameters
 Scotch
Use ExpressJS to Get URL and POST Parameters
Often when we are building applications using ExpressJS, we will need to get information from our users.This can happen any number of ways... (184KB)



----- November 10th -----
sebasalvarado	[11:57 AM]  
@nikita all the handler functions should be in routes/routes.js

[11:57]  
adding the prefix exports.”function"

[11:57]  
that way we can make it more modular or add more files to make it even more modular

nikita	[12:02 PM]  
@sebasalvarado: where is the routes folder

shannon	[12:12 PM]  
We also need to return photos for the entries endpoint (sql join the tables?)

sebasalvarado	[12:12 PM]  
https://github.com/anisha-rohra/node-server
 GitHub
anisha-rohra/node-server
Contribute to node-server development by creating an account on GitHub. 
 
 

[12:12]  
in this repo you can see routes folder

[12:12]  
how are we saving images as binaries or the path?

shannon	[12:13 PM]  
as paths

[12:14]  
actually instead of sql join, just need to do another query to get all the photos and then add it as a list json object to be returned

[12:14]  
as a list to the*

sebasalvarado	[12:15 PM]  
@nikita did you find it? I added on product GET endpoint for your reference. The more complicated ones are still waiting to be done

[12:15]  
if you have any questions let me know

[12:15]  
about the way the code is organized

nikita	[12:16 PM]  
@sebasalvarado: yes got it.  I will let you know if i need help

anisharohra	[12:17 PM]  
Wait nothing's guaranteed about the photos. I'm trying to figure it out but we may have to change it, give me today to see what I can do

shannon	[12:18 PM]  
Change it as in not use photos?

[12:20]  
@anisharohra are you using this https://www.npmjs.com/package/react-native-camera-android
 npm
react-native-camera-android
React native camera view for android. Enabling you to take pictures directly on camera view, controlling flash light of the device, and also reading barcode from camera. 
 
 

anisharohra	[12:27 PM]  
No no def using photos, but not sure how they have to be stored, I'm trying to use that but  it's currently causing errors so I'm gonna try to fix it now

shannon	[12:28 PM]  
Ohhh

[12:28]  
You have to do file upload to upload to a server

[12:28]  
Possibly use a module for file uploading if react native doesn't support it

anisharohra	[12:28 PM]  
If I can't, I'm fairly confident I can get the in app camera to work in which case we'd have to store the photos themselves and not the path

[12:28]  
I'm trying to pick the photo right now

[12:28]  
Like from their gallery

shannon	[12:29 PM]  
I thought what we're doing is we're letting them take a picture in the app and then our app will upload the photo to our servers

[12:29]  
And the database will store the path of the photo in the server

[12:29]  
That's how most apps do it

[12:29]  
Picking from the gallery is fine too if that's easier to implement for now

anisharohra	[12:33 PM]  
Omg I thought we were storing the local path in their phone

[12:33]  
To their memory

shannon	[12:34 PM]  
Is that easier than storing it in our servers like 309?

[12:36]  
Ok so I think if we store it in our server, all we have to do is this http://stackoverflow.com/questions/29489502/how-to-upload-file-to-server-using-react-native
 stackoverflow.com
How to upload file to server using react-native
I am developing a app where i need to upload an image to the server. Based on the image i get a response which i need to render?.Can you please help me how to upload an image using react-native?. 
 
 

anisharohra	[12:36 PM]  
So we'd do a post request with the binaries of the photo?

shannon	[12:36 PM]  
And then in node.js we do this http://stackoverflow.com/questions/5294470/writing-image-to-local-server
 stackoverflow.com
Writing image to local server
UpdateThe accepted answer was good for last year but today I would use the package everyone else uses:https://github.com/mikeal/request OriginalI'm trying to grab google's logo and save it to... 
 
 

[12:37]  
Yeah we do a post withe binaries and then node will save the binary but store the path in the database

[12:40]  
Or if we don't care about best practicies / efficiency just store the binary in the database

anisharohra	[12:40 PM]  
Okay I shall do it that way

[12:41]  
(I'll try the node js way first)

sebasalvarado	[12:45 PM]  
Off topic. There is no 343 class today right?

shannon	[4:25 PM]  
@nikita when a user adds a product, we insert the product into the Product table if a product with the same name/brand doesn't already exist, and then we have to insert the product id and userid and stuff into the MyProducts table

[4:26]  
Because in the front end anytime we add a product it will be a user adding a product to MyProduct

nikita	[4:28 PM]  
@shannon: yeah thats true. I can correct that, My bad was trying to do a few things same time so messed this up

[4:28]  
@shannon: i have a class so is it ok if I correct after that?

shannon	[4:29 PM]  
Yeah that's fine :slightly_smiling_face:

saragolesta	[10:13 PM]  
I just added delete requests for entry and product

nikita	[10:14 PM]  
Great i also added most of the other http requests

saragolesta	[10:14 PM]  
also for editing an entry we will definitely have the entryID and userID right?

nikita	[10:15 PM]  
We can have anything to edit so we check whether the things are null or not as shannon said

saragolesta	[10:15 PM]  
but other parameters might be or might not be there depending on the things that the user updates..

[10:18]  
I know based on what shannon said there are some parameters that the user might give us and there are some that he might not give us but since they are updating an specific entry and we know which user is doing it we definitely have at least those two parameters whenever an update request is sent..

nikita	[10:19 PM]  
Yes you are right

[10:19]  
You can change my thing

[10:20]  
But for adding keep it as it is

saragolesta	[10:20 PM]  
also right now the edit entry updates an entry iff the user gives us all the parameters...we should consider cases that some parameters are missing(the parameters that they didn't change)

nikita	[10:21 PM]  
So it will be null right if the parameter was not given

[10:21]  
Thats the whole idea

[10:21]  
If they don't give something its value is null

[10:22]  
If they give something we will put it in the table if they don't its null by default so we don't update it

saragolesta	[10:24 PM]  
but doesn't 'is not null'  in the query check for only non-null parameters? and if all of them where not null it will update it?(cause there is and between the terms in the query)

[10:25]  
if one of them was null it doesn't satisfy the where condition and it will not update it

nikita	[10:27 PM]  
I need to double check that

saragolesta	[10:27 PM]  
ok sure :slightly_smiling_face:

nikita	[10:36 PM]  
I need to change it a bit

[10:36]  
Now it is checking for all non null

[10:37]  
@saragolesta: also can you see what are the all other requests we need


----- Today November 12th, 2016 -----
johntiger1	[4:38 AM]  
@nikita @saragolesta  just to confirm, you made the changes already that you were telling me about right?

[4:40]  
https://github.com/sebasalvarado/skinme-api are we not using seb's repo anymore?
 GitHub
sebasalvarado/skinme-api
skinme-api - REST API written in Java using the Spark micro-framework 
 
 

[4:42]  
should i just write directly my queries into here?: https://github.com/csc301-fall-2016/project-team-15/blob/master/SkinApp/sk.in/skinCareApp/server.js